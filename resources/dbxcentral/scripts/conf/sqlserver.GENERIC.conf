#=======================================================
# File generated by Offline Wizard.
#-------------------------------------------------------
# To generate a new file
#   - start any of the dbxtune tools in GUI mode (XXXtune.bat or XXXtune.sh)
#   - MainMenu -> Tools -> Create Session - Template file' Wizard
#     - take the generated file (or copy paste it's content in here)
#-------------------------------------------------------




##-----------------------------------------------------
## BEGIN: Alarm Writers
##-----------------------------------------------------
AlarmHandler.WriterClass=com.asetune.alarm.writers.AlarmWriterToFile
#AlarmHandler.WriterClass=com.asetune.alarm.writers.AlarmWriterToFile, com.asetune.alarm.writers.AlarmWriterToMail
AlarmHandler.enable=true

## TO FILE
AlarmWriterToFile.active.filename=${HOME}/.dbxtune/dbxc/log/ALARM.ACTIVE.${SERVERNAME\:-unknown}.txt
AlarmWriterToFile.log.filename   =${HOME}/.dbxtune/dbxc/log/ALARM.LOG.${SERVERNAME\:-unknown}.log

## TO MAIL (can be generated: "DbxTune -> View -> Change 'Alarm' Options; Button: Preview Config" or "MainMenu -> Tools -> Create Session - Template file' Wizard")
#AlarmWriterToMail.from                           = some_name@acme.com
#AlarmWriterToMail.smtp.hostname                  = smtp.acme.com
#AlarmWriterToMail.smtp.username                  = some_name@acme.com
#AlarmWriterToMail.smtp.password                  = encrypted\:X1d8pOVxPfHYVUByguR6/w\=\=
#AlarmWriterToMail.to                             = some_receiver@acme.com
#AlarmWriterToMail.filter.skip.severity           = INFO
#AlarmWriterToMail.msg.body.template.default.html = true
##-----------------------------------------------------
## END: Alarm Writers
##-----------------------------------------------------



##-----------------------------------------------------
## BEGIN: Daily Report Sender
##-----------------------------------------------------
DailySummaryReport.create=true
#DailySummaryReport.filter.keep.serverName=(DBPROD.*|dbprod.*)

ReportSenderToMail.smtp.hostname = localhost
ReportSenderToMail.from          = some_name@acme.com
ReportSenderToMail.to            = some_receiver@acme.com, some_receiver_extra@acme.com

# Truncate cells that are above 128K, otherwise reports will be "unreadable", or not even sent due to "to large email"
DailySummaryReport.maxTableCellSizeKb = 128

DailySummaryReport.remove.after.days = 30
##-----------------------------------------------------
## END: Daily Report Sender
##-----------------------------------------------------




##-----------------------------------------------------
## BEGIN: Alarms specific for CompanyX
##-----------------------------------------------------

## Long running transactions, to 180 Sec
#CmSummary.alarm.system.if.oldestOpenTranInSec.gt=180

# between 04:00 until 00:00 (midnight) alarm if above 120 seconds
#CmSummary.alarm.system.enabled.oldestOpenTranInSec.timeRange.cron = * 4-23 * * *
#CmSummary.alarm.system.if.oldestOpenTranInSec.gt = 300
## DISABLE on CmSummary, but CmDatabase will be used
#CmSummary.alarm.system.enabled.oldestOpenTranInSec=false


## between 04:00 until 00:00 (midnight) alarm if above 120 seconds
#CmDatabases.alarm.system.enabled.OldestTranInSeconds.timeRange.cron = * 4-23 * * *
#CmDatabases.alarm.system.if.OldestTranInSeconds.gt = 300
#CmDatabases.alarm.system.if.OldestTranInSeconds.skip.tranProg = SQLAgent.*

## Backup age
#CmDatabases.alarm.system.if.LastDbBackupAgeInHours.gt = 30
##CmDatabases.alarm.system.if.LastDbBackupAgeInHours.for.dbs = (db1|db2|db3|sybsystemprocs)
#CmDatabases.alarm.system.if.LastDbBackupAgeInHours.for.srv = prod-1a-mssql

## Transaction LOG Backup
#CmDatabases.alarm.system.if.LastLogBackupAgeInHours.gt=8
#CmDatabases.alarm.system.if.LastLogBackupAgeInHours.for.srv = prod-1a-mssql
#CmDatabases.alarm.system.if.LastLogBackupAgeInHours.skip.dbs = (master|msdb|model|tempdb)

## Allow some databases to NOT beeing part of Availability Groups
#CmDatabases.alarm.system.ag.mandatory.dbnames.skip = dbxxx, dbyyyy

##-----------------------------------------------------
## END: Alarms specific for CompanyX
##-----------------------------------------------------





##-----------------------------------------------------
## BEGIN: Performance Counter Settings
##-----------------------------------------------------
CmActiveStatements.persistCounters=true
CmActiveStatements.persistCounters.abs=true
CmActiveStatements.persistCounters.diff=true
CmActiveStatements.persistCounters.rate=true
CmActiveStatements.postponeTime=0
CmActiveStatements.queryTimeout=10
CmActiveStatements.sample.monSqltext=true
CmActiveStatements.sample.showplan=true

CmAlwaysOn.persistCounters=true
CmAlwaysOn.persistCounters.abs=true
CmAlwaysOn.persistCounters.diff=true
CmAlwaysOn.persistCounters.rate=true
CmAlwaysOn.postponeTime=0
CmAlwaysOn.queryTimeout=10

CmDatabases.persistCounters=true
CmDatabases.persistCounters.abs=true
CmDatabases.persistCounters.diff=true
CmDatabases.persistCounters.rate=true
CmDatabases.postponeTime=0
CmDatabases.queryTimeout=10
CmDatabases.sample.monSqltext=true
CmDatabases.sample.showplan=true

CmDbIo.persistCounters=true
CmDbIo.persistCounters.abs=true
CmDbIo.persistCounters.diff=true
CmDbIo.persistCounters.rate=true
CmDbIo.postponeTime=0
CmDbIo.queryTimeout=10

CmDeviceIo.persistCounters=true
CmDeviceIo.persistCounters.abs=true
CmDeviceIo.persistCounters.diff=true
CmDeviceIo.persistCounters.rate=true
CmDeviceIo.postponeTime=0
CmDeviceIo.queryTimeout=10

CmErrorLog.persistCounters=true
CmErrorLog.persistCounters.abs=true
CmErrorLog.persistCounters.diff=true
CmErrorLog.persistCounters.rate=true
CmErrorLog.postponeTime=0
CmErrorLog.queryTimeout=10

CmExecCursors.persistCounters=true
CmExecCursors.persistCounters.abs=true
CmExecCursors.persistCounters.diff=true
CmExecCursors.persistCounters.rate=true
CmExecCursors.postponeTime=0
CmExecCursors.queryTimeout=10

CmExecFunctionStats.persistCounters=true
CmExecFunctionStats.persistCounters.abs=true
CmExecFunctionStats.persistCounters.diff=true
CmExecFunctionStats.persistCounters.rate=true
CmExecFunctionStats.postponeTime=0
CmExecFunctionStats.queryTimeout=10

CmExecProcedureStats.persistCounters=true
CmExecProcedureStats.persistCounters.abs=true
CmExecProcedureStats.persistCounters.diff=true
CmExecProcedureStats.persistCounters.rate=true
CmExecProcedureStats.postponeTime=0
CmExecProcedureStats.queryTimeout=10

CmPlanCacheHistory.persistCounters=true
CmPlanCacheHistory.persistCounters.abs=true
CmPlanCacheHistory.persistCounters.diff=true
CmPlanCacheHistory.persistCounters.rate=true

CmExecQueryStatPerDb.persistCounters=true
CmExecQueryStatPerDb.persistCounters.abs=true
CmExecQueryStatPerDb.persistCounters.diff=true
CmExecQueryStatPerDb.persistCounters.rate=true
#CmExecQueryStatPerDb.postponeTime=300
#CmExecQueryStatPerDb.queryTimeout=10
#CmExecQueryStatPerDb.sample.ms.resourcedb=false

CmExecQueryStats.persistCounters=true
CmExecQueryStats.persistCounters.abs=true
CmExecQueryStats.persistCounters.diff=true
CmExecQueryStats.persistCounters.rate=true
CmExecQueryStats.postponeTime=0
CmExecQueryStats.queryTimeout=10
CmExecQueryStats.sample.afterPrevSample=false
CmExecQueryStats.sample.extraWhereClause=last_logical_reads > 100
CmExecQueryStats.sample.lastXminutes=true
CmExecQueryStats.sample.lastXminutes.time=10

CmExecRequests.persistCounters=true
CmExecRequests.persistCounters.abs=true
CmExecRequests.persistCounters.diff=true
CmExecRequests.persistCounters.rate=true
CmExecRequests.postponeTime=0
CmExecRequests.queryTimeout=10

CmExecSessions.persistCounters=true
CmExecSessions.persistCounters.abs=true
CmExecSessions.persistCounters.diff=true
CmExecSessions.persistCounters.rate=true
CmExecSessions.postponeTime=0
CmExecSessions.queryTimeout=10

CmExecTriggerStats.persistCounters=true
CmExecTriggerStats.persistCounters.abs=true
CmExecTriggerStats.persistCounters.diff=true
CmExecTriggerStats.persistCounters.rate=true
CmExecTriggerStats.postponeTime=0
CmExecTriggerStats.queryTimeout=10

CmIndexMissing.persistCounters=true
CmIndexMissing.persistCounters.abs=true
CmIndexMissing.persistCounters.diff=true
CmIndexMissing.persistCounters.rate=true
CmIndexMissing.postponeTime=3600
CmIndexMissing.queryTimeout=10

CmIndexOpStat.persistCounters=false
CmIndexOpStat.persistCounters.abs=true
CmIndexOpStat.persistCounters.diff=true
CmIndexOpStat.persistCounters.rate=true
CmIndexOpStat.postponeTime=600
CmIndexOpStat.queryTimeout=10

CmIndexPhysical.persistCounters=false
CmIndexPhysical.persistCounters.abs=true
CmIndexPhysical.persistCounters.diff=true
CmIndexPhysical.persistCounters.rate=true
CmIndexPhysical.postponeTime=14400
CmIndexPhysical.queryTimeout=60

CmIndexUnused.persistCounters=true
CmIndexUnused.persistCounters.abs=true
CmIndexUnused.persistCounters.diff=true
CmIndexUnused.persistCounters.rate=true
CmIndexUnused.postponeTime=14400
CmIndexUnused.queryTimeout=10

CmIndexUsage.persistCounters=false
CmIndexUsage.persistCounters.abs=true
CmIndexUsage.persistCounters.diff=true
CmIndexUsage.persistCounters.rate=true
CmIndexUsage.postponeTime=600
CmIndexUsage.queryTimeout=10

CmMemoryClerks.persistCounters=true
CmMemoryClerks.persistCounters.abs=true
CmMemoryClerks.persistCounters.diff=true
CmMemoryClerks.persistCounters.rate=true
CmMemoryClerks.postponeTime=0
CmMemoryClerks.queryTimeout=10

CmMemoryGrants.persistCounters=true
CmMemoryGrants.persistCounters.abs=true
CmMemoryGrants.persistCounters.diff=true
CmMemoryGrants.persistCounters.rate=true
CmMemoryGrants.postponeTime=0
CmMemoryGrants.queryTimeout=10

CmOpenTransactions.persistCounters=true
CmOpenTransactions.persistCounters.abs=true
CmOpenTransactions.persistCounters.diff=true
CmOpenTransactions.persistCounters.rate=true
CmOpenTransactions.postponeTime=0
CmOpenTransactions.queryTimeout=10

CmOptimizer.persistCounters=true
CmOptimizer.persistCounters.abs=true
CmOptimizer.persistCounters.diff=true
CmOptimizer.persistCounters.rate=true
CmOptimizer.postponeTime=0
CmOptimizer.queryTimeout=10

CmOsLatchStats.persistCounters=true
CmOsLatchStats.persistCounters.abs=true
CmOsLatchStats.persistCounters.diff=true
CmOsLatchStats.persistCounters.rate=true
CmOsLatchStats.postponeTime=0
CmOsLatchStats.queryTimeout=10


##-----------------------------
## BEGIN -- OS monitoring
##-----------------------------
CmOsDiskSpace.persistCounters=false
CmOsDiskSpace.persistCounters.abs=true
CmOsDiskSpace.persistCounters.diff=true
CmOsDiskSpace.persistCounters.rate=true
CmOsDiskSpace.postponeTime=0
CmOsDiskSpace.queryTimeout=10

CmOsIostat.persistCounters=false
CmOsIostat.persistCounters.abs=true
CmOsIostat.persistCounters.diff=true
CmOsIostat.persistCounters.rate=true
CmOsIostat.postponeTime=0
CmOsIostat.queryTimeout=10

CmOsMeminfo.persistCounters=false
CmOsMeminfo.persistCounters.abs=true
CmOsMeminfo.persistCounters.diff=true
CmOsMeminfo.persistCounters.rate=true
CmOsMeminfo.postponeTime=0
CmOsMeminfo.queryTimeout=10

CmOsMpstat.persistCounters=false
CmOsMpstat.persistCounters.abs=true
CmOsMpstat.persistCounters.diff=true
CmOsMpstat.persistCounters.rate=true
CmOsMpstat.postponeTime=0
CmOsMpstat.queryTimeout=10

CmOsNwInfo.persistCounters=false
CmOsNwInfo.persistCounters.abs=true
CmOsNwInfo.persistCounters.diff=true
CmOsNwInfo.persistCounters.rate=true
CmOsNwInfo.postponeTime=0
CmOsNwInfo.queryTimeout=10

CmOsUptime.persistCounters=false
CmOsUptime.persistCounters.abs=true
CmOsUptime.persistCounters.diff=true
CmOsUptime.persistCounters.rate=true
CmOsUptime.postponeTime=0
CmOsUptime.queryTimeout=10

CmOsVmstat.persistCounters=false
CmOsVmstat.persistCounters.abs=true
CmOsVmstat.persistCounters.diff=true
CmOsVmstat.persistCounters.rate=true
CmOsVmstat.postponeTime=0
CmOsVmstat.queryTimeout=10

CmOsPs.persistCounters=true
CmOsPs.persistCounters.abs=true
CmOsPs.persistCounters.diff=true
CmOsPs.persistCounters.rate=true
CmOsPs.postponeTime=0
CmOsPs.queryTimeout=10

##-----------------------------
## END -- OS monitoring
##-----------------------------


CmPerfCounters.persistCounters=true
CmPerfCounters.persistCounters.abs=true
CmPerfCounters.persistCounters.diff=true
CmPerfCounters.persistCounters.rate=true
CmPerfCounters.postponeTime=0
CmPerfCounters.queryTimeout=10

CmProcedureStats.persistCounters=true
CmProcedureStats.persistCounters.abs=true
CmProcedureStats.persistCounters.diff=true
CmProcedureStats.persistCounters.rate=true
CmProcedureStats.postponeTime=0
CmProcedureStats.queryTimeout=10

CmSchedulers.persistCounters=true
CmSchedulers.persistCounters.abs=true
CmSchedulers.persistCounters.diff=true
CmSchedulers.persistCounters.rate=true
CmSchedulers.postponeTime=0
CmSchedulers.queryTimeout=10

CmSessions.persistCounters=true
CmSessions.persistCounters.abs=true
CmSessions.persistCounters.diff=true
CmSessions.persistCounters.rate=true
CmSessions.postponeTime=0
CmSessions.queryTimeout=10

CmSpidWait.persistCounters=false
CmSpidWait.persistCounters.abs=true
CmSpidWait.persistCounters.diff=true
CmSpidWait.persistCounters.rate=true
CmSpidWait.postponeTime=0
CmSpidWait.queryTimeout=10
CmSpidWait.sample.extraWhereClause=
CmSpidWait.trendGraph.skipWaitTypeList=

CmSpinlocks.persistCounters=true
CmSpinlocks.persistCounters.abs=true
CmSpinlocks.persistCounters.diff=true
CmSpinlocks.persistCounters.rate=true
CmSpinlocks.postponeTime=0
CmSpinlocks.queryTimeout=10

CmSummary.persistCounters=false
CmSummary.persistCounters.abs=true
CmSummary.persistCounters.diff=true
CmSummary.persistCounters.rate=true
CmSummary.postponeTime=0
CmSummary.queryTimeout=10

CmTableSize.persistCounters=true
CmTableSize.persistCounters.abs=true
CmTableSize.persistCounters.diff=true
CmTableSize.persistCounters.rate=true
CmTableSize.postponeTime=3600
CmTableSize.queryTimeout=10

CmTempdbSpidUsage.persistCounters=false
CmTempdbSpidUsage.persistCounters.abs=true
CmTempdbSpidUsage.persistCounters.diff=true
CmTempdbSpidUsage.persistCounters.rate=true
CmTempdbSpidUsage.postponeTime=0
CmTempdbSpidUsage.queryTimeout=10
CmTempdbSpidUsage.sample.systemThreads=true

CmTempdbUsage.persistCounters=true
CmTempdbUsage.persistCounters.abs=true
CmTempdbUsage.persistCounters.diff=true
CmTempdbUsage.persistCounters.rate=true
CmTempdbUsage.postponeTime=0
CmTempdbUsage.queryTimeout=10

CmVersionStore.persistCounters=true
CmVersionStore.persistCounters.abs=true
CmVersionStore.persistCounters.diff=true
CmVersionStore.persistCounters.rate=true
CmVersionStore.postponeTime=0
CmVersionStore.queryTimeout=10

CmWaitStats.persistCounters=true
CmWaitStats.persistCounters.abs=true
CmWaitStats.persistCounters.diff=true
CmWaitStats.persistCounters.rate=true
CmWaitStats.postponeTime=0
CmWaitStats.queryTimeout=10

CmWaitingTasks.persistCounters=true
CmWaitingTasks.persistCounters.abs=true
CmWaitingTasks.persistCounters.diff=true
CmWaitingTasks.persistCounters.rate=true
CmWaitingTasks.postponeTime=0
CmWaitingTasks.queryTimeout=10

CmWho.persistCounters=true
CmWho.persistCounters.abs=true
CmWho.persistCounters.diff=true
CmWho.persistCounters.rate=true
CmWho.postponeTime=0
CmWho.queryTimeout=10
CmWho.sample.systemThreads=true

CmWorkers.persistCounters=true
CmWorkers.persistCounters.abs=true
CmWorkers.persistCounters.diff=true
CmWorkers.persistCounters.rate=true
CmWorkers.postponeTime=0
CmWorkers.queryTimeout=10

##-----------------------------------------------------
## END: Performance Counter Settings
##-----------------------------------------------------






##-----------------------------------------------------
## BEGIN: PCS - Persistent Counter Storage (or Recordings) Settings
##-----------------------------------------------------
## Comma separated list of Writers we want to use
PersistentCounterHandler.WriterClass=com.asetune.pcs.PersistWriterJdbc, com.asetune.pcs.PersistWriterToHttpJson

PersistWriterJdbc.jdbcDriver           = org.h2.Driver
PersistWriterJdbc.jdbcPasswd           = encrypted\:BdsuSrLtZkY\=
PersistWriterJdbc.jdbcUrl              = jdbc\:h2\:file\:${DBXTUNE_SAVE_DIR}/${SERVERNAME}_${DATE\:format\=yyyy-MM-dd;roll\=true}
PersistWriterJdbc.jdbcUser             = sa
PersistWriterJdbc.startH2NetworkServer = true

PersistWriterToHttpJson.url            = http\://localhost\:8080/api/pcs/receiver

PersistentCounterHandler.ddl.doDdlLookupAndStore             = true
PersistentCounterHandler.ddl.enabledForDatabaseObjects       = true
PersistentCounterHandler.ddl.enabledForStatementCache        = true
PersistentCounterHandler.ddl.addDependantObjectsToDdlInQueue = false
PersistentCounterHandler.ddl.afterDdlLookupSleepTimeInMs     = 250

PersistentCounterHandler.sqlCapture.doSqlCaptureAndStore               = false
#PersistentCounterHandler.sqlCapture.doPlanText                        = false
#PersistentCounterHandler.sqlCapture.doSqlText                         = true
#PersistentCounterHandler.sqlCapture.doStatementInfo                   = true
#PersistentCounterHandler.sqlCapture.saveStatement.gt.execTime         = -1
#PersistentCounterHandler.sqlCapture.saveStatement.gt.logicalReads     = -1
#PersistentCounterHandler.sqlCapture.saveStatement.gt.physicalReads    = -1
#PersistentCounterHandler.sqlCapture.sendDdlForLookup                  = true
#PersistentCounterHandler.sqlCapture.sendDdlForLookup.gt.execTime      = -1
#PersistentCounterHandler.sqlCapture.sendDdlForLookup.gt.logicalReads  = -1
#PersistentCounterHandler.sqlCapture.sendDdlForLookup.gt.physicalReads = -1
#PersistentCounterHandler.sqlCapture.sleepTimeInMs                     = 1000
##-----------------------------------------------------
## END: PCS - Persistent Counter Storage (or Recordings) Settings
##-----------------------------------------------------





##-----------------------------------------------------
## BEGIN: Other Settings
##-----------------------------------------------------
offline.sampleTime=30
##-----------------------------------------------------
## END: Other Settings
##-----------------------------------------------------
