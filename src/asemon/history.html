<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>AseMon History</TITLE>
<META NAME="Author" CONTENT="Goran Schwarz">
<META NAME="Description" CONTENT="Helptext">

<style type="text/css">
<!--
body {font-family: Arial, Helvetica, sans-serif; background-color: #FFFFFF; color:#000000}
li   {margin-bottom: 6px}
-->
</style>

</HEAD>
<BODY>
<font face="Arial, Verdana">

<h1>History of what has been done so far</h1>


<!-- ========================================================================== -->
<!-- 
<H2>2010-10-29</H2>
<UL>
	<LI>
	</LI>

	<LI>
	</LI>

	<LI>
	FIXME - New version of the H2 database is used: 1.2.xxx (2010-xx-xx)<br>
	</LI>

</UL>
 -->
 
<!-- ========================================================================== -->
<H2>2010-10-29</H2>
<UL>
	<LI>
	Changed to Java 1.6, so I wont support JVM 1.5 anymore...<br>
	The change to 1.6 was needed for the new SwingX (JXTable etc) 1.6.2 (went from 1.0 to 1.6.2)<br>
	</LI>

	<LI>
	A first attempt to store column order and restore that order after restart.<br>
	This will most likely fuckup some other stuff where I don't convert viewToModel, 
	but it's a first attempt...<br>
	Also storing the sort order and restores that.
	</LI>

	<LI>
	Also added some 'restore column order' and some other stuff into the right click menu
	on Counter Model tables.
	</LI>

	<LI>
	Changed from JChart2D 3.1.0 -> 3.2.0<br>
	Changed the tool tip to be on 2 rows, showing "Label: value\n Time: time" 
	</LI>

	<LI>
	A first attempt to save and load the filter (Column, Operation, Value, NoZeroCounters)
	</LI>

	<LI>
	When moving around using the arrows key on the keyboard on the in-memory and offline slider
	caused the system to update the view on every keystroke. This overloaded the system when holding
	down the arrow key. So I added timers of 100ms, which means that loading of data is done
	when no input has been given for 100ms.
	</LI>

	<LI>
	Using proxy-vole (http://code.google.com/p/proxy-vole) as a automatic proxy resolver
	when checking updates or doing other http requests.<br> 
	For example this means that if the client is using a proxy server when doing internet/web 
	lookups, the client can now use the PAC file in IExplorer or Firefox to figgure out what
	proxy server to use. (PAC=Proxy Auto Config. http://en.wikipedia.org/wiki/Proxy_auto-config)
	</LI>

</UL>

<!-- ========================================================================== -->
<H2>2010-06-22</H2>
<UL>
	<LI>
	New version of the H2 database is used: 1.2.135 (2010-05-08)<br>
	This version supports embedded BLOBS in the database, so no extra directories for blobs will be created
	</LI>

	<LI>
	Tab: Processes & Active Statements<br>
	Added column 'WaitClassDesc', which is the class description for the WaitEventID
	</LI>

	<LI>
	Tab: Active Statements<br>
	<UL type="circle">
	<LI>Added column 'multiSampled', which is 'YES' if the PK (SPID, monSource [,InstanceID]) was visible in the previous sample as well</LI>
	<LI>Added column 'pssinfo_tempdb_pages' to check how many tempdb pages this SPID is currently using</LI>
	<LI>Added column 'tempdb_name' to check what tempdb this SIPD is using</LI>
	<LI>Stacktrace, which is deferred to the localCalculation() method is not executed if the WaitEventID has changed.</LI>
	<LI>Tooltip on sqlText is not adding extra newlines, which made large outputs a bit unreadable</LI>
	<LI>Also marked the 'multiSampled' rows with the color 'ORANGE'</LI>
	<LI>InMemoryHistory: Is now showing the checkboxes and tooltip for Active Statements</LI>
	</UL>
	</LI>

	<LI>
	Tab: Cached Objects<br>
	Changed default postponeTime to 600, every 10 minutes
	</LI>

	<LI>
	Tab: Blocking<br>
	Is now only available for ase servers over version 15.0.0 ESD#2
	</LI>

	<LI>
	Tab: System Load<br>
	Rearranged the column layout to make it a bit more readable
	</LI>

	<LI>
	Dialog: CheckForNewUpdates<br>
	Now doing a better job of remembering the checkbox 'do not show this again'<br>
	And some better text descriptions...
	</LI>

	<LI>
	Dialog: ConnectionDialog<br>
	For the 'offline read', you can start the H2 as a network server
	</LI>

	<LI>
	in 'offline read' mode, I added 'Fast Forwad' and 'Rewind' buttons, which goes to the next sample time
	that has data for this tab. It's especially good in 'Active Statement' and other tabs where
	data is not always present, for example if you have the 'postpone time' set...<br>
	The Buttons are located in every tab in the 'Sample Information' panel.
	</LI>

	<LI>
	Added a "rowcount" label to indicate how many rows there are in the JTable.<br>
	It's located "Show Counter Type" panel
	</LI>

	<LI>
	Some changes how data is displayed in the 'offline read' if data can't be found for the selected sample period
	</LI>

	<LI>
	Connection dialog:<br>
	in tab 'Counter Storage', Changed the layout of the panel/JTable "What Counter Data should be Persisted"
	</LI>

	<LI>
	Offline wizard:<br>
	in page 3 'What should be offline sampled', Changed the layout of the panel/JTable<br>
	And added the button "Set to Template", so we can reuse what we are currently doing in the GUI.
	</LI>

	<LI>
	Upgraded to latest H2 version, 1.2.137 (2010-06-06)
	</LI>

</UL>

<!-- ========================================================================== -->
<H2>2010-04-27</H2>
<UL>
	<LI>
	A bunch of bug fixes and improvements not listed here
	</LI>

	<LI>
	Tab: Processes<br>
	The choice to disable sampling of "system threads".<br>
	In ASE Cluster Edition, there are a bunch of system threads/SPID's, which could
	blur the vision in this tab.<br>
	For now; this was implemented using SQL, but in the future it might very well be
	a "filter" option instead. Then we would still benefit from the "Persistence Counter Storage"
	to store all threads in the database (if we were using that), but when later when viewing
	data we could filter them out in the GUI.
	</LI>

	<LI>
	Query Window:<br>
	When doing "ctrl-c" to copy into the clipboard in some places the new-line was not copied.<br>
	A "copy" button was also implemented that takes "all" the objects in the result set output
	and put it into the clipboard, JTables are coped into ASCII tables.
	keys: F5, F9 are now shortcuts to execute SQL, this to emulate dbisql<br>
	</LI>

	<LI>
	You can now Pause all data collection by pressing the 'Pause icon' on the tool bar or
	the 'Pause Icon' in the status field. To resume data collection, just press the same icon gain,
	which now will have a 'Play icon'.
	</LI>

	<LI>
	Added dbcc pss(0, ${SPID}, 2) on the right click in all tables.
	</LI>

	<LI>
	Tab: Engines<br>
	Only select records from monEngines with the Status 'online'.<br>
	Also a new column 'IOCPUTime' was added if you're above ASE 15.5 and 15.0.3 CE<br>
	NOTE: it's currently not part of the percentage calculation.
	</LI>

	<LI>
	For ASE Cluster Edition, remember the system_view settings (cluster or instance)<br>
	The system view can be changed in the 'Summary' tab if you are connected to a ASE CE.
	</LI>

	<LI>
	Login dialog: when pressing enter in the password field and all the mandatory fields are filled in
	a login is attempted (same as pressing OK button).
	</LI>

	<LI>
	Screen shots can now be made from a button on the tool bar, using the "Camera icon".<br>
	It will produce a JPG file in the "home" directory.
	</LI>

	<LI>
	Tab: Objects when we are in 15.5 and 15.0.3 CE, I have added a bunch of new columns, mainly for
	Cluster Edition measurements...
	</LI>

	<LI>
	In the 'Summary' tab I also grabs @@connections and an 15.5 or 15.0.3 CE I also get Transactions
	from the monState table. (in CE the Transactions columns does not seem to work in a good manner)
	</LI>

	<LI>
	When there are blocking spid's, a red icon in the status bar shows up, telling you how many
	spid's that are currently blocked. If you press the icon, you will jump to the 'Blocking' tab.
	</LI>

	<LI>
	If you're running out of memory, I will try to clear all in memory history and do
	Garbage Collection. After the GC hopefully enough memory will be available to continue.<br>
	TODO: I show a blocking message, this needs to changed into a non blocking message.
	</LI>

	<LI>
	An all tabs: a User Defined SQL statement for tool tip on cell content can be added<br>
	This is done in the config file, example:<br>
	table.tooltip.SPID=select * from sysprocesses where spid = ?<br>
	table.tooltip.CMprocActivity.SPID=select suser_name(suid) from sysprocesses where spid = ?<br>
	The first config would execute SQL and show the result set as a tool tip in all tab's<br>
	The second will override the default when you are in tab 'CMprocActivity'.<br>
	For SPID there is a default tool tip that shows some info from monProcess
	</LI>

	<LI>
	Tab: Active Statements<br>
	A spid that holds blocking locks, may not always be visible in monProcessStatement<br>
	For example id you in isql do 'begin tran; insert into t1 values(1); go', the spid will
	be in status 'waiting for incoming network data' and not really active.<br>
	There for I introduced two set of rows 'ACTIVE' and 'BLOCKER', the 'ACTIVE' originates from
	monProcessStatement, while 'BLOCKERS' are spid's that blocks others from working. Both the
	'ACTIVE' and the 'BLOCKER' can be visible in the table.<br>
	Also added 'dbcc stacktrace' of all spid's visible in this table<br>
	The ability to disable 'showplan', 'sqltext' and 'stacktrace' can be done from the GUI
	and is written to the user settings temporary property file as
	'CMActiveStatements.sample.showplan=false, CMActiveStatements.sample.dbccSqltext=false, CMActiveStatements.sample.dbccSqltext=false'.<br>
	Also added column 'BlockingOtherSpids' which is a list of spid's that the current spid is blocking,
	and by the way, rows/spid's that blocks other will be marked with the color red.
	</LI>

	<LI>
	bugfix: User Defined Counter wizard, name checking was partially faulty.<br>
	Name can now only be a-z, A-Z, 0-9 and not starting with CM.
	</LI>

	<LI>
	Added 'needRole' to CounterModel and UserDefinedCounterModel, which will be checked
	just as 'needConfig' and show errors on the 'tab' if you are not authorized to view
	the 'tab'.<br>
	Also added a bunch of stuff so that non 'sa' users can use the tool as well.
	</LI>

	<LI>
	Better support for command line switches. This is now done in java instead of
	the bat or shell script that starts asemon.
	</LI>

	<LI>
	Made changes in the ConnectionDialog to support JDBC options + a JdbcOptionDialog
	where you can choose from the JDBC driver provided options. Or simply type them in manually<br>
	Also multiple host:port are fetched from the sql.ini/interfaces file and can also be
	typed in manually. However jConnect doesn't seem to like it...<br>
	If the information which is
	you can switch to use the "raw" URL mode instead, check the 'Use URL' check box, then
	the URL text field will be used when connection. By pressing <enter> in the field the
	URL text will be parsed and transferred to the above disabled fields.
	</LI>

</UL>

<!-- ========================================================================== -->
<H2>2010-02-22</H2>
<UL>
	<LI>
	Added "sp_showplan" and "dbcc sqltext" in tab 'Active Statements'. <br>
	The full showplan text is displayed using tool tip. Or copy the table using
	right click 'copy table to clipboard'.
	</LI>

	<LI>
	Added 'Data Type' in the Create 'User Defined Counter' Wizard.<br>
	If it's not a number datatype, the column can't be chosen as a 'diff' counter<br>
	Also added some checks in the Graph part, so that we can't continue, if wrong
	method type is chosen (if diff is not on, only absolute methods can be chosen)
	</LI>

	<LI>
	Table Cell background color can be customized in the properties file, defaults are:<br>
	<pre>
	CMobjActivity.color.index     = ORANGE <br>
	CMprocActivity.color.system   = YELLOW <br>
	CMprocActivity.color.running  = GREEN <br>
	CMprocActivity.color.blocked  = ORANGE <br>
	CMprocActivity.color.blocking = RED <br>
	CMcachedObjects.color.index   = ORANGE <br>
	CMActiveObjects.color.index   = ORANGE <br>
	CMblocking.color.blocking     = RED <br>
	</pre>
	</LI>

	<LI>
	Changed Copy + Paste handling from the JTable<br>
	Which means I added 'Copy Cell', 'Copy Row' and also added 'Copy Table as Ascii-table'
	</LI>

	<LI>
	If you are on a slow connection to the dataserver, it will now work faster.<br>
	I removed a lot of extra calls to Connection.isClosed(), which issues 'exec sp_mda 0,7'
	to check if the connection is alive or not. I simply cached the check for X milliseconds.
	</LI>

	<LI>
	The QueryWindow now has a ScrollPane/SplitPane for the SQL Text as well.<br>
	When the window is opened the size of the SQL Text is "calculated" to a proper size
	for that specific SQL Batch.<br>
	Also added 'Copy table/row to clipboard' in the jtable popup menu
	</LI>

</UL>

<!-- ========================================================================== -->
<H2>2010-02-14</H2>
<UL>
	<LI>
	Asemon now works with ASE Cluster Edition<br>
	The column InstanceId has been added in the case we connects to a Cluster Enabled ASE.
	Some extra information is also displayed in the 'Summary' tab. In this panel you can also
	choose if you want to view counters for the whole cluster or just the instance which
	asemon is connected to.<br>
	Specific Counter Tab's will probably added later on, but for now create you'r own Cluster
	Specific counters using the wizard 'create User Defined Counter', please send you'r best
	Cluster Edition Counters to me so I can implement them for everyone.
	</LI>

	<LI>
	Added Counter tab 'Sysmon Raw' which works in peer with 'Spinlock Sum'.<br>
	This counter is in extreme first version, and just reads the values that was left over
	from the 'Spinlock Sum' counter tab. No enrichment of the data has be done so far, so
	it's just the "raw" counters that the sp_sysmon is using.<br>
	In the future a sp_sysmon look alike can be done (lets use a JXTreeTable for that).
	</LI>

	<LI>
	A better implementation of the indicator icon, now the Icon on the Tab is repainted
	or replaced with a 2 pixel larger icon that has a green stripe on the left side of the icon.<br>
	Thanx Reine Lindqvist
	</LI>

	<LI>
	A new Counter Tab 'Blocking' that shows information about SPID's that are involved in
	a normal 'blocking lock' situation.<br>
	This was also done by Reine Lindqvist
	</LI>

	<LI>
	change to the tab 'Blocking' when we have blocking SPID's<br>
	If 'Lock Waits' counter in the 'Summary' panel is above 0, an popup will ask you if you
	want to set the 'Blocked' tab as the active tab.
	</LI>

	<LI>
	Color coding on some Counter tabs<br>
	tab - 'Objects':        ORANGE = This is an Index<br>
	tab - 'Cached Objects': ORANGE = This is an Index<br>
	tab - 'Active Objects': ORANGE = This is an Index<br>
	tab - 'Blocking':       RED    = when column 'Blocked State' == 'Blocking'<br>
	tab - 'Processes':      RED    = when 'SPID' is Blocking other SPID's<br>
	tab - 'Processes':      ORANGE = when 'SPID' are Blocked by other SPID's<br>
	tab - 'Processes':      YELLOW = when 'Login' is empty, meaning it's a ASE SYSTEM thread/spid<br>
	tab - 'Processes':      GREEN  = when 'status' is in 'running' or 'runnable'<br>
	</LI>

	<LI>
	Added Java version check when asemon starts. has to be 1.5 for the moment.
	</LI>

	<LI>
	bugfix: on 'Processes' Tab, when not case sensitive sort order,
	the problem 'Ambiguous column name spid' was raised.<br>
	</LI>

</UL>

<!-- ========================================================================== -->
<H2>2010-01-28</H2>
<UL>
	<LI>
	Implemented "offline" reader<br>
	This means that we now can read data from a database into the GUI, the data has previously
	been stored by asemon into that database (Persistent Counter Storage).<br>
	The sampled data could have been stored by the "non gui" mode or by the GUI itself,
	and viewed at a later time.<br>
	This functionality also enables us to have <b>one</b> "no gui" asemon that stores the data
	in the Persistent Counter Storage and <b>many</b> asemon GUI's that views the data.<br>
	That is if several dba's wants to view the same data without having several asemon GUI's
	that each individually issues SQL statements to collect data.<br>
	Please I need feedback on how this is working...
	</LI>

	<LI>
	A green "line/stripe" at the right hand side of the tab on the TabbedPane, which
	indicates that there are sampled data under that tab.<br>
	This needs rework, because it overwrites menu items, tool tip and other components
	that are displayed on top of the "stripe" indicator.
	</LI>

	<LI>
	In the Persistent Counter Storage, you can now choose if you want to store <b>all</b>
	data or just some of them, you can choose to store Absolute, Diff or Rate Counters in
	the data store.<br>
	There are check boxes for this in each counter panel and also in the Wizard that creates
	an file for the off line storage.
	</LI>

	<LI>
	If we loose the database connection to the monitored server in GUI mode, it tries to
	automatically reconnect if the option is set in the Connection dialog.
	</LI>

	<LI>
	Menu->view->Set Counter Set Parameters<br>
	Is a new Dialog where you can change most of the options that is normally located
	under each "tab". This means that you do not have to click around so much when you want
	to change some option under <b>all</b> the various tabs.
	</LI>

	<LI>
	The graphs are now zoomable. Just drag the mouse over the are you want to zoom in on.
	Right click and do "zoom out" when you are done.
	</LI>

	<LI>
	When creating a offline session file from the wizard, the passwords are now encrypted.
	</LI>

</UL>

<!-- ========================================================================== -->
<H2>2009-11-23</H2>
<UL>
	<LI>
		'Deadlock' and 'Errorlog' tabs now works again.
	</LI>

	<LI>
		two new tabs 'System Load' and 'Temp Db'<br>
		'System Load' needs ASE 15.5 or higher and shows information from the monSysLoad, which can help you
		determine how long the "run queue length" is. Which is almost the same as 'load average' on Unix systems.
		'Temp db' shows you various information about tempdb usage.
	</LI>

	<LI>
		The filter now also works for 'Deadlock' and the 'Errolog' tabs
	</LI>

	<LI>
		'Diff' and 'Rate' counters choice panel are now disabled if there are no diff columns specified
	</LI>

	<LI>
		introduced 'needAseVersion' and 'needAseConfig' for all CM's<br>
		This means it's easier to specify lowest ASE version for this "tab" to start work.
		The same goes for configuration.<br>
		If version or configuration is not satisfied a "watermark" text on the tab will show what was wrong.
	</LI>

	<LI>
		In all tabs, a new time option were introduced, the 'postpone'...<br>
		This means that for tabs that we do not want to sample as often as we usually do, we can set a
		minimum time to wait before we refresh this tab. This could be used for tabs like 'Cached Objects'
		which could be "heavy" for the system to sample on every sample interval.
	</LI>

	<LI>
		The summary panel now also contains a bunch of new counters.
	</LI>

	<LI>
		If ASE is between 15.0.3 esd#1 and 15.0.3 esd#3 and sp_configure 'capture missing statistics' is true.
		The CR 581760 makes ASE to capture statistics for MDA Tables, which might lead to a full
		transaction log in the master database.<br>
		So check for a "near full" transaction log and do 'dump tran master with truncate_only' if we are near.
	</LI>

	<LI>
		If the stored procedure 'sp_missing_stats' in the tab 'Missing Statistics' is missing.
		It will automatically be installed if you have 'sa_role' otherwise the "watermark" will indicate
		this it's missing and needs to be installed.<br>
		The procedure will not be re-installed every time, it checks for creation time, and will only
		be re-created when a new version of it is applicable.
	</LI>

	<LI>
		The watermark functionality can now handle multiple rows.
	</LI>

	<LI>
		Also a lot of small changes.
	</LI>
</UL>

<!-- ========================================================================== -->
<H2>2009-11-06</H2>
<UL>
	<LI>
		Automatically open the log viewer when a log message with the severity ERROR or
		higher is logged.<br>
		LogViewer also remembers the window size and position.
	</LI>

	<LI>
		A new "tab" that shows what tables/columns the optimizer is missing statistics on.<br>
		This needs ASE 15.0.3 ESD#1, and <code>sp_configure 'capture missing statistics', 1</code><br>
		A word of warning so for: The transaction log in the master database will/could fill up due to
		a bug in ASE where missing statistics on <code>mon*</code> tables is updated in <code>master..sysstatistics</code><br>
		A stored procedure <code>sp_missing_stats</code>, which (for now) will have to be manually
		installed before this tab will work...
	</LI>

	<LI>
		Un-selecting rows can now be done in JTables, also the background color could be
		set with the properties:
		<UL>
			<code>table.setSelectionBackground={true|false}</code>
			<code>table.setSelectionBackground.r=intVal</code>
			<code>table.setSelectionBackground.g=intVal</code>
			<code>table.setSelectionBackground.b=intVal</code>
		</UL>
	</LI>

	<LI>
		When a database connection is lost, better GUI error handling is applied.<br>
		Meaning show LogViewer, set the watermark to "Not Connected".
	</LI>

	<LI>
		Changes on the Connect-on-startup, now using logic from the ConnectionDialog.
	</LI>

	<LI>
		Also a lot of small changes.
	</LI>
</UL>

<!-- ========================================================================== -->
<H2>2009-05-21 - 2009-11-01</H2>
<UL>
	<LI>
		A long period has passed since I did anything, this was due to I was in an accident
		where I broke/crushed both my hands/wrists, so I had <b>problems</b> coding...<br>
		But now I'm back again :)
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-05-20</H2>
<UL>
	<LI>
		Changed the Color of the timeLine marker to dark gray.
	</LI>

	<LI>
		Added tick markers on the timeLine slider.
	</LI>

	<LI>
		Separating the TrendGraph's data into TrenGraphDataPoint class<br>
		This makes it possible to save the graph data in it's own table,
		which makes it easier when reading "off-line" data in a later stage
	</LI>

	<LI>
		Added some AseMon* dictionary tables, which makes it easier when
		reading "off-line" data in a later stage
	</LI>

	<LI>
		In "off-line" noGui mode, when connecting, try to enable basic
		monitor settings if not already configured.
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-05-15</H2>
<UL>
	<LI>
		A first version where you can view older Counter Values<br>
		All <b>sampled</b> counters are stored In-Memory, the counters are
		discarded from memory when "Trend Graph History in Minutes" expires.
		This means as long as the values are shown in the graph, they stays in memory.<br>
		To enter Navigation mode for viewing the in-memory counters is done by
		double-click in one of the graphs, or press the "View Counters" in the
		toolbar. Navigation is done with the slider in the toolbar or by
		double-click on a interesting point in one of the graphs.<br>
		A vertical line in the graphs represents where we are in the in-memory counters.
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-04-30</H2>
<UL>
	<LI>
		Used defined graphs can now do one trace line for every row.<br>
		The 'graph.type' should then by 'byRow'<br>
		'graph.data.cols' should contain the column name to get value from<br>
		'graph.data.methods' can be 'absVal', 'diffVal' or 'rateVal'.
		'graph.data.labels' can be a column name to get value from, or if that
		   name is not found the values for the Primary Key will be used.
		   So if you for example specify '-pk-', which is a unknown column name
		   Then the PK values for that row will be used as the "label" for that line.
	</LI>

	<LI>
		Properties MenuItem on Counter Tab, this so we can see what SQL that is
		executing when we refresh the Counter Model.
	</LI>

	<LI>
		Wizard for crating User Defined Counters
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-04-09</H2>
<UL>
	<LI>
		Added panel 'Active/Process Statements'.
	</LI>

	<LI>
		Moved monProcessObject from asemon.properties into GetCounters.
	</LI>

	<LI>
		Added a summary page in the offline wizard.
	</LI>

	<LI>
		The offline is started from asemon script using parameters.<br>
		asemon -nogui -config <conffile><br>
	</LI>

	<LI>
		The offline is completely dependent on this wizard generated
		config file. (Used to use asemon.properties).
		The wizard now copies the necessary info from asemon.properties
		to the generated file.
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-04-08</H2>
<UL>
	<LI>
		New web adress 'www.asemon.se', so references was changed for this
	</LI>

	<LI>
		Started to work on Storing Counter Data from the GUI<br>
		A new Connection dialog has been made... but isn't finished yet.
		It works to setup a Counter Storage, but it needs more work.<br>
		Offline connect doesn't work yet, I can't yet read stored data and
		present it in the GUI, thats the next step.
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-03-31</H2>
<UL>
	<LI>
		Checking for updates on the net (but I need to change the web address later)<br>
		But I need to implement the web page for new downloads etc...
	</LI>

	<LI>
		Re-coded MainFrame and moved to GUI<br>
	</LI>

	<LI>
		Trendgraph<br>
		- setChartMaxHistoryTimeInMinutes() could get garbled.<br>
		- Add dummypoint when not connected to avoid NPE from ToolTip.
		- also moved TrendGraph
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-03-26</H2>
<UL>
	<LI>
		Capture SQL on the right click menu
	</LI>

	<LI>
		Copy table information to clipboard (but: needs more work)
	</LI>

	<LI>
		Changed a bunch of the Icons and added icons to the GTabbedPane,
		right click menu, goto tab.
	</LI>

	<LI>
		SQL Window can now show graphical showplan views (same as dbisql).<br>
		Some graphical changes as well, print/raiserror messages now comes
		in-line with the result sets (priviously it was just at the end)<BR>
		You can also select cells to copy+paste values from.<br>
		Messages are now also copy+paste enabled.
	</LI>

	<LI>
		Using MigLayout in summary panel for graphs now, which makes it a bit
		nicer for resizing... the graphs grows in height now as well.
	</LI>

	<LI>
		For the filter "Do not show unchanged counter rows" I added the abbility
		to dissregard some columns. So even if it's a diff counter and it's NOT
		zero it will still filtered out that column.<br>
		This is good for "WaitTime" column in the "Processes" tab. Because it's
		always contains values... I still want to see the diff/rate values.
		But I don't want to use them (as valid values) in the filter check.
	</LI>

	<LI>
		The filter "Do not show unchanged counter rows" has also been moved from
		the Options panel to the Filter panel, where it really resides.<br>
		This also made me move the "Counter Type" panel one snap left...
	</LI>

	<LI>
		Selected row in the table is still selected after a "data refresh"
		and hopefully it's the same row even if it has changed location
		due to resort of the new/refreshed data...
	</LI>

	<LI>
		MainFrame - status panel (at bottom) now has Memory information<br>
		This class will be needed to recode soon - the code is ugly...
	</LI>

	<LI>
		If data collection is paused, a watermark text will inform you
		about the Pause...
	</LI>

	<LI>
		The AboutBox panel now contains<br>
		- History<br>
		- Todo<br>
		- System Properties<br>
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-03-16</H2>
<UL>
	<LI>
		Moved the negativeDiffCounters to Zero so we can choose this
		for each panel....
	</LI>

	<LI>
		Added icons for the TableCntrPanel and most of the CM's
	</LI>

	<LI>
		Some small changes on the xmenu stuff.
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>2009-03-13</H2>
<UL>
	<LI>
		ALOT OF THINGS WHERE DONE
	</LI>

	<LI>
		Moved a lot of files around, the goal is that all GUI components should be in 'gui' package
	</LI>

	<LI>
		Configuration.java: moved to utils package, and added encrypt/decrypt of passwords
	</LI>

	<LI>
		AseMonitoringConfig -> gui.AseMonitoringConfigDialog: remade gui layout
	</LI>

	<LI>
		CountersModel Made it a TableModel... there is a lot more needed to be done on this one
		and that will be done in next check-in
	</LI>

	<LI>
		A new dictionary for displaying ToolTip on WaitEventId
	</LI>

	<LI>
		Moved Version information into its own class 'Version.java'
	</LI>

	<LI>
		The ConnectionDialog has been totally rewritten
	</LI>

	<LI>
		Auto login ability on startup
	</LI>

	<LI>
		A logAppender for log4j that has a Gui Window so we can look at the errorlog graphically
		and also change the log level "on the fly", but the log level is not saved into the
		properties file. We only want to change it during this session.
	</LI>

	<LI>
		Total new Dialog for changing some small properties (only Refresh rate for now)
	</LI>

	<LI>
		A new 'Query window' has been added to the MainFrame menu. This will open a GUI 'isql'
	</LI>

	<LI>
		TabularCntrPanel has been rewritten:
		<UL>
			<LI> The TabbedPane has been rewritten to do "dock/undock" tabs into windows and
				 right click popups on the Tabbs that handles more stuff.
			<LI> now using MigLayout as it's Gui layout manager
			<LI> Using JXTable instead of JTable
			<LI> Sorting is done by JXTable
			<LI> Filtering is done by JXTable
			<LI> Highlighting/Color setting is done by JXTable (in JTable this is CellRenderer)
			<LI> right-click on the table now uses 'xmenu', which is specified in the config file
				so now it's really easy to add your own right click menu items.
				Default menu items is 'stored proc text, sp callstack, optdiag, sp_help, sp_spaceused...'
		</UL>
	</LI>

	<LI>
		A bunch of new icons has been added
	</LI>

	<LI>
		AboutBox total rewrite
	</LI>

	<LI>
		And a lot more small stuff
	</LI>

	<LI>
		NOTE: A lot more is needed to be changed and cleanup, so this is just a partial check-in.
	</LI>

	<LI>
		Reine Changed TrendGraph to use JChart2D instead of JFreeChart, this due to
		performance reasons when we had *long* "Graph History Time".
		This was merged in from the "trunk".
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2009-02-12</H2>
<UL>
	<LI>
		Multiple ResultSets is now handled
	</LI>

	<LI>
		Watermark on the summary graphs is now on the scroll panel,
		this makes the watermark more center of the view/what we see...
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2009-02-03</H2>
<UL>
	<LI>
		User Defined Graph can be added
		this probably needs more work, but for now it's "ok"...
	</LI>

	<LI>
		SummaryPanel was "redesigned" and moved to GUI package
	</LI>

	<LI>
		Default ASEMon Icon was changed (added more blue on the table)
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2009-01-23</H2>
<UL>
	<LI>
		Sometimes that graphs did not get updated in the summary panel.
		This was a timing problem, when data is captured, it's done with
		it's own thread. If the "get data" thread was not complete before
		we wanted to update the graphs, the graphs was not updated.
		So now I wait for the "get data thread" to complete before continue.
	</LI>

	<LI>
		The Toolbar was added.
	</LI>

	<LI>
		The first glans at "offline setup wizard" was created (need more work here)
	</LI>

	<LI>
		Changed the j4log from 1.2.8 -> 1.2.15
	</LI>

	<LI>
		Some small stuff as well
	</LI>

	<LI>
		Default ASEMon Icon was changed
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2008-10-31</H2>
<UL>
	<LI>
		Fixed bug in summary panel counte. If ASE listens to several networks
		only show the first "min()" listener. otherwise the subquery will fail...
	</LI>

	<LI>
		Added Wrap/Scroll capability in the TabPanel
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2008-10-27</H2>
<UL>
	<LI>
		Fixed bug in engine average calculation...
		in version X i changed getRateValueAvg to discard 0.0 as "rows"
		this was to support the Average Service Time in DeviceIO graph better.
		But now I'm using getRateValueAvgGtZero instead.
	</LI>

	<LI>
		Added the "WATER MARK" text to TabularControlPanel and SummaryPanel
		to easier know what is happening behind the scenes... are we connected...
	</LI>

	<LI>
		Added some descriptions for Tooltip on the TABS.
	</LI>

	<LI>
		added methods: isMonConnected(), getMonConnection() this will hopefully
		be used to distinguish between OFF-Line mode and ON-Line mode.
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2008-10-24</H2>
<UL>
	<LI>
		Added this "version history" comment
	</LI>

	<LI>
		Doing "late initialization" of CountersObject, which means that
		we can create the GUI graphics and decide later what SQL statement to
		use dependent on what version the ASE Server is of.
	</LI>

	<LI>
		Took away a lot of static variables in GetCounters and MainFrame
	</LI>
</UL>



<!-- ========================================================================== -->
<H2>2008-10-16</H2>
<UL>
	<LI>
		Major thing is NO-GUI mode is configurable and can persist the
		counters in a JDBC session. (ASE and H2 has been tested)
		H2 would be the preferred option. This so we can store the
		counters in another server/database store than the one we
		pulling out data from. Using the H2 DB it would also be
		easier to sample ASE counters on Unix systems and later on
		view them on a Windows machine.
	</LI>

	<LI>
		some changes to "capture SQL" tool.
	</LI>

	<LI>
		saving more options in the "save props" file!
	</LI>

	<LI>
		And a lot more small things.
	</LI>
</UL>


<!-- ========================================================================== -->
<H2>200x-xx-xx</H2>
<UL>
	<LI>
		Started from asemon 0.96 by Jean-Paul Martin<BR>
		Redone a whole lot of things
	</LI>

	<LI>
		Automatic resize of columns headers in tables
	</LI>

	<LI>
		Cell renders are not dependent on Object type, but it's now
		using method calls to decide what to do when rendering.
	</LI>

	<LI>
		Do not remember all things I did back then
	</LI>
</UL>




</font>
</BODY>
</HTML>
